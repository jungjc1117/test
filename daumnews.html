<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>다음 금융 종합</title>
    <style>
      body {
        margin: 0;
        overflow: hidden; /* 전체 화면 스크롤 방지 */
        display: flex;
        height: 100vh; /* 뷰포트 높이 전체 사용 */
      }
      .container {
        display: flex;
        width: 100%;
      }
      .iframe-wrapper {
        flex: 1; /* 각 iframe이 동일한 너비를 차지하도록 */
        border: 1px solid #ddd; /* 구분선 */
        box-sizing: border-box; /* 패딩과 테두리가 너비에 포함되도록 */
        overflow: hidden; /* iframe 내부 스크롤은 유지 */
      }
      iframe {
        width: 100%;
        height: 100%;
        border: none; /* iframe 자체 테두리 제거 */
      }
      .toggle-button {
        padding: 10px 20px;
        cursor: pointer;
        border: 1px solid #ccc;
        background-color: #f0f0f0;
      }
      /* 토글 활성화 시 스타일 */
      .toggle-button.active {
        background-color: #4caf50;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="iframe-wrapper">
        <p><button id="toggleButton" onclick="toggleRefresh()"></button></p>
        <iframe
          src="https://m.finance.daum.net/domestic/sectors/wics"
          title="국내 증시"
        ></iframe>
      </div>
      <div class="iframe-wrapper">
        <iframe
          src="https://m.finance.daum.net/global/quotes"
          title="해외 증시"
        ></iframe>
      </div>
      <div class="iframe-wrapper">
        <iframe src="https://m.finance.daum.net/news" title="뉴스"></iframe>
      </div>
    </div>
  </body>
  <script>
    let refreshTimer;
    let isRefreshing = true; // 새로고침이 활성화된 상태인지 여부

    // 10초마다 페이지 새로고침
    function startAutoRefresh() {
      refreshTimer = setInterval(function () {
        location.reload(); // 페이지 새로고침
      }, 10000); // 10000밀리초 = 10초
    }

    // 새로고침 타이머 중지
    function stopAutoRefresh() {
      clearInterval(refreshTimer);
      isRefreshing = false;
      updateButtonText();
    }

    // 새로고침 타이머 재시작
    function resumeAutoRefresh() {
      isRefreshing = true;
      updateButtonText();
      startAutoRefresh(); // 중지했던 타이머를 다시 시작
    }

    // 버튼 텍스트 업데이트
    function updateButtonText() {
      const toggleButton = document.getElementById("toggleButton");
      if (isRefreshing) {
        toggleButton.textContent = "새로고침 일시정지";
      } else {
        toggleButton.textContent = "새로고침 시작";
      }
    }

    // 페이지 로드 시 타이머 시작
    window.onload = function () {
      startAutoRefresh();
      updateButtonText(); // 초기 버튼 텍스트 설정
    };

    // 토글 버튼 클릭 이벤트 핸들러
    function toggleRefresh() {
      const toggleButton = document.getElementById("toggleButton");
      if (isRefreshing) {
        stopAutoRefresh();
      } else {
        resumeAutoRefresh();
      }
    }
  </script>
</html>
